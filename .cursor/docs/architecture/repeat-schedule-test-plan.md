# 반복 일정 기능 테스트 설계

## 1. 테스트 범위

### 1.1 반복 일정 생성

- **매일**: 매일 일정 생성
- **매주**: 매주 같은 요일에 일정 생성
- **매월**: 매월 같은 날짜에 일정 생성 (31일 처리 포함)
- **매년**: 매년 같은 날짜에 일정 생성 (2월 29일 처리 포함)

### 1.2 반복 종료 조건

- 2025-12-31까지 최대 범위로 일정 생성
- 종료 날짜까지만 일정 생성

### 1.3 반복 일정 수정

- **단일 수정**: 해당 일정만 수정, 반복 일정에서 분리
- **전체 수정**: 반복 일정 전체 수정

### 1.4 반복 일정 삭제

- **단일 삭제**: 해당 일정만 삭제
- **전체 삭제**: 반복 일정 전체 삭제

## 2. 테스트 케이스

### 2.1 반복 일정 생성 테스트

#### TC-001: 매일 반복 일정 생성

- **Given**: 사용자가 2025-01-01부터 매일 반복 일정 생성
- **When**: 종료 날짜를 2025-12-31로 설정
- **Then**: 365개의 일정이 생성되어야 함

#### TC-002: 매주 반복 일정 생성

- **Given**: 사용자가 2025-01-01(수요일)부터 매주 반복 일정 생성
- **When**: 종료 날짜를 2025-12-31로 설정
- **Then**: 52개의 일정이 생성되어야 함 (매주 수요일)

#### TC-003: 매월 반복 일정 생성 (일반 날짜)

- **Given**: 사용자가 2025-01-15부터 매월 반복 일정 생성
- **When**: 종료 날짜를 2025-12-31로 설정
- **Then**: 12개의 일정이 생성되어야 함 (매월 15일)

#### TC-004: 매월 반복 일정 생성 (31일 처리)

- **Given**: 사용자가 2025-01-31부터 매월 반복 일정 생성
- **When**: 종료 날짜를 2025-12-31로 설정
- **Then**: 각 달의 31일에만 일정이 생성되어야 함 (1, 3, 5, 7, 8, 10, 12월만)

#### TC-005: 매년 반복 일정 생성 (일반 날짜)

- **Given**: 사용자가 2025-06-15부터 매년 반복 일정 생성
- **When**: 종료 날짜를 2025-12-31로 설정
- **Then**: 1개의 일정만 생성되어야 함 (같은 해)

#### TC-006: 매년 반복 일정 생성 (2월 29일 처리)

- **Given**: 사용자가 2024-02-29부터 매년 반복 일정 생성
- **When**: 종료 날짜를 2025-12-31로 설정
- **Then**: 1개의 일정만 생성되어야 함 (2024년만 해당)

### 2.2 반복 일정 표시 테스트

#### TC-007: 캘린더에 반복 일정 아이콘 표시

- **Given**: 반복 일정이 생성됨
- **When**: 캘린더 뷰에서 해당 일정 확인
- **Then**: 반복 일정 아이콘이 표시되어야 함

### 2.3 반복 일정 수정 테스트

#### TC-008: 단일 수정

- **Given**: 반복 일정이 존재함 (매일, 2025-01-01부터)
- **When**: 사용자가 2025-01-15 일정을 단일 수정
- **Then**: 해당 일정만 수정되고, 반복 일정에서 분리됨 (아이콘 제거)

#### TC-009: 전체 수정

- **Given**: 반복 일정이 존재함 (매일, 2025-01-01부터)
- **When**: 사용자가 2025-01-15 일정을 전체 수정
- **Then**: 반복 일정 전체가 수정되고, 아이콘 유지

### 2.4 반복 일정 삭제 테스트

#### TC-010: 단일 삭제

- **Given**: 반복 일정이 존재함 (매일, 2025-01-01부터)
- **When**: 사용자가 2025-01-15 일정을 단일 삭제
- **Then**: 해당 일정만 삭제되고, 나머지 일정은 유지

#### TC-011: 전체 삭제

- **Given**: 반복 일정이 존재함 (매일, 2025-01-01부터)
- **When**: 사용자가 2025-01-15 일정을 전체 삭제
- **Then**: 반복 일정 전체가 삭제됨

## 3. 우선순위

### High Priority

- TC-001: 매일 반복 일정 생성
- TC-004: 매월 31일 처리
- TC-008: 단일 수정
- TC-009: 전체 수정
- TC-010: 단일 삭제
- TC-011: 전체 삭제

### Medium Priority

- TC-002: 매주 반복 일정 생성
- TC-003: 매월 반복 일정 생성 (일반)
- TC-007: 반복 일정 아이콘 표시

### Low Priority

- TC-005: 매년 반복 일정 생성 (일반)
- TC-006: 매년 2월 29일 처리

## 4. 테스트 구현 전략

### 4.1 유닛 테스트

- `src/utils/repeatSchedule.ts`: 반복 일정 생성 로직 테스트
- 날짜 계산 로직 검증

### 4.2 통합 테스트

- `src/hooks/useRepeatSchedule.ts`: 반복 일정 훅 테스트
- 전체 흐름 테스트

### 4.3 E2E 테스트 (수동)

- UI에서 반복 일정 생성/수정/삭제 확인
